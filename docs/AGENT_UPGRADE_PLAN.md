# Agent å‡çº§è®¡åˆ’

## ğŸ¯ ç›®æ ‡

å°†å½“å‰çš„"æ™ºèƒ½ RAG ç³»ç»Ÿ"å‡çº§ä¸º"å®Œæ•´çš„ AI Agent"

## ğŸ“Š å½“å‰çŠ¶æ€ vs ç›®æ ‡çŠ¶æ€

| èƒ½åŠ› | å½“å‰ | ç›®æ ‡ | ä¼˜å…ˆçº§ |
|------|------|------|--------|
| å·¥å…·æ•°é‡ | 1ä¸ªï¼ˆçŸ¥è¯†åº“æ£€ç´¢ï¼‰ | 5-10ä¸ª | â­â­â­â­â­ |
| è®°å¿†èƒ½åŠ› | æ—  | å¯¹è¯å†å²è®°å¿† | â­â­â­â­â­ |
| æ¨ç†èƒ½åŠ› | å•æ­¥ | å¤šæ­¥æ¨ç†ï¼ˆReActï¼‰ | â­â­â­â­ |
| è®¡åˆ’èƒ½åŠ› | æ—  | ä»»åŠ¡è§„åˆ’ | â­â­â­ |
| å­¦ä¹ èƒ½åŠ› | æ—  | ä»åé¦ˆå­¦ä¹  | â­â­ |
| è‡ªä¸»æ€§ | éƒ¨åˆ† | å®Œå…¨è‡ªä¸» | â­â­â­â­ |

## ğŸ—ï¸ å‡çº§æ¶æ„

```
ç”¨æˆ·è¾“å…¥
    â†“
è®°å¿†ç³»ç»Ÿï¼ˆåŠ è½½å†å²å¯¹è¯ï¼‰
    â†“
Agent æ ¸å¿ƒï¼ˆReAct æ¨ç†ï¼‰
    â†“
å·¥å…·é€‰æ‹©å’Œè°ƒç”¨
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â†“         â†“         â†“         â†“         â†“         â†“
çŸ¥è¯†åº“    è®¡ç®—å™¨    æ—¶é—´      ç½‘ç»œæœç´¢  å›¾è¡¨ç”Ÿæˆ  ...
æ£€ç´¢      å·¥å…·      å·¥å…·      å·¥å…·      å·¥å…·
    â†“
ç»“æœæ•´åˆ
    â†“
è®°å¿†æ›´æ–°ï¼ˆä¿å­˜å¯¹è¯ï¼‰
    â†“
è¿”å›ç­”æ¡ˆ
```

## ğŸ“‹ å‡çº§é˜¶æ®µ

### é˜¶æ®µ 1ï¼šåŸºç¡€å·¥å…·æ‰©å±•ï¼ˆ1-2å¤©ï¼‰â­â­â­â­â­

**ç›®æ ‡**ï¼šä» 1 ä¸ªå·¥å…·æ‰©å±•åˆ° 5-8 ä¸ªå·¥å…·

**æ–°å¢å·¥å…·**ï¼š

1. **è®¡ç®—å™¨å·¥å…·** - å¤„ç†æ•°å­¦è®¡ç®—
   ```python
   @tool
   def calculator(expression: str) -> str:
       """è®¡ç®—æ•°å­¦è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ï¼š2+2, 10*5, sqrt(16)"""
   ```

2. **æ—¶é—´å·¥å…·** - è·å–å½“å‰æ—¶é—´/æ—¥æœŸ
   ```python
   @tool
   def get_current_time(format: str = "datetime") -> str:
       """è·å–å½“å‰æ—¶é—´ï¼Œformatå¯ä»¥æ˜¯ï¼šdatetime, date, time"""
   ```

3. **äººç‰©å…³ç³»æŸ¥è¯¢** - æŸ¥è¯¢äººç‰©å…³ç³»
   ```python
   @tool
   def query_character_relationship(char1: str, char2: str) -> str:
       """æŸ¥è¯¢ä¸¤ä¸ªäººç‰©ä¹‹é—´çš„å…³ç³»"""
   ```

4. **ç« èŠ‚å¯¼èˆª** - æŸ¥æ‰¾ç‰¹å®šç« èŠ‚
   ```python
   @tool
   def find_chapter(book: str, keyword: str) -> str:
       """åœ¨æŒ‡å®šä¹¦ç±ä¸­æŸ¥æ‰¾åŒ…å«å…³é”®è¯çš„ç« èŠ‚"""
   ```

5. **è¯—è¯åˆ†æ** - åˆ†æè¯—è¯
   ```python
   @tool
   def analyze_poem(poem: str) -> str:
       """åˆ†æè¯—è¯çš„æ ¼å¾‹ã€æ„å¢ƒç­‰"""
   ```

6. **äººç‰©åˆ—è¡¨** - åˆ—å‡ºæ‰€æœ‰äººç‰©
   ```python
   @tool
   def list_characters(book: str) -> str:
       """åˆ—å‡ºæŒ‡å®šä¹¦ç±çš„æ‰€æœ‰ä¸»è¦äººç‰©"""
   ```

**å®ç°éš¾åº¦**ï¼šâ­â­ï¼ˆä¸­ç­‰ï¼‰
**é¢„è®¡æ—¶é—´**ï¼š1-2 å¤©

---

### é˜¶æ®µ 2ï¼šè®°å¿†ç³»ç»Ÿï¼ˆ1å¤©ï¼‰â­â­â­â­â­

**ç›®æ ‡**ï¼šè®© Agent èƒ½è®°ä½å¯¹è¯å†å²

**å®ç°æ–¹æ¡ˆ**ï¼š

**æ–¹æ¡ˆ Aï¼šç®€å•å†…å­˜è®°å¿†ï¼ˆæ¨èå…ˆåšï¼‰**
```python
from langchain.memory import ConversationBufferMemory

memory = ConversationBufferMemory(
    memory_key="chat_history",
    return_messages=True
)
```

**æ–¹æ¡ˆ Bï¼šæ»‘åŠ¨çª—å£è®°å¿†ï¼ˆä¼˜åŒ–ç‰ˆï¼‰**
```python
from langchain.memory import ConversationBufferWindowMemory

memory = ConversationBufferWindowMemory(
    k=5,  # åªä¿ç•™æœ€è¿‘5è½®å¯¹è¯
    memory_key="chat_history",
    return_messages=True
)
```

**æ–¹æ¡ˆ Cï¼šæ‘˜è¦è®°å¿†ï¼ˆé«˜çº§ï¼‰**
```python
from langchain.memory import ConversationSummaryMemory

memory = ConversationSummaryMemory(
    llm=llm,
    memory_key="chat_history"
)
```

**åŠŸèƒ½**ï¼š
- è®°ä½æœ€è¿‘ 5-10 è½®å¯¹è¯
- æ”¯æŒä¸Šä¸‹æ–‡è¿½é—®ï¼š"ä»–çš„å¦»å­æ˜¯è°ï¼Ÿ"
- ä¼šè¯ç®¡ç†ï¼ˆSession IDï¼‰

**å®ç°éš¾åº¦**ï¼šâ­â­ï¼ˆä¸­ç­‰ï¼‰
**é¢„è®¡æ—¶é—´**ï¼š1 å¤©

---

### é˜¶æ®µ 3ï¼šReAct æ¨ç†æ¨¡å¼ï¼ˆ1-2å¤©ï¼‰â­â­â­â­

**ç›®æ ‡**ï¼šè®© Agent èƒ½è¿›è¡Œ"æ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿ"å¾ªç¯

**ReAct æ¨¡å¼**ï¼š
```
Thought: æˆ‘éœ€è¦å…ˆæŸ¥è¯¢è´¾å®ç‰çš„ä¿¡æ¯
Action: search_knowledge_base
Action Input: "è´¾å®ç‰"
Observation: è´¾å®ç‰æ˜¯è£å›½åºœçš„å…¬å­...

Thought: ç°åœ¨æˆ‘çŸ¥é“äº†è´¾å®ç‰çš„åŸºæœ¬ä¿¡æ¯ï¼Œç”¨æˆ·é—®çš„æ˜¯ä»–çš„å¹´é¾„
Action: search_knowledge_base
Action Input: "è´¾å®ç‰ å¹´é¾„"
Observation: ä¹¦ä¸­æåˆ°è´¾å®ç‰åäºŒä¸‰å²...

Thought: æˆ‘ç°åœ¨æœ‰è¶³å¤Ÿçš„ä¿¡æ¯å›ç­”äº†
Final Answer: è´¾å®ç‰åœ¨ä¹¦ä¸­å¤§çº¦åäºŒä¸‰å²...
```

**å®ç°**ï¼š
```python
from langchain.agents import create_react_agent
from langchain import hub

# ä½¿ç”¨æ ‡å‡†çš„ ReAct æç¤ºè¯æ¨¡æ¿
react_prompt = hub.pull("hwchase17/react")

agent = create_react_agent(
    llm=llm,
    tools=tools,
    prompt=react_prompt
)
```

**å®ç°éš¾åº¦**ï¼šâ­â­â­ï¼ˆä¸­ç­‰åéš¾ï¼‰
**é¢„è®¡æ—¶é—´**ï¼š1-2 å¤©

---

### é˜¶æ®µ 4ï¼šä»»åŠ¡è§„åˆ’èƒ½åŠ›ï¼ˆ2-3å¤©ï¼‰â­â­â­

**ç›®æ ‡**ï¼šè®© Agent èƒ½å¤Ÿåˆ†è§£å¤æ‚ä»»åŠ¡

**ç¤ºä¾‹**ï¼š
```
ç”¨æˆ·ï¼š"æ¯”è¾ƒæ—é»›ç‰å’Œè–›å®é’—çš„æ€§æ ¼ã€å®¶ä¸–ã€ç»“å±€"

Agent è§„åˆ’ï¼š
1. æŸ¥è¯¢æ—é»›ç‰çš„æ€§æ ¼
2. æŸ¥è¯¢è–›å®é’—çš„æ€§æ ¼
3. æŸ¥è¯¢æ—é»›ç‰çš„å®¶ä¸–
4. æŸ¥è¯¢è–›å®é’—çš„å®¶ä¸–
5. æŸ¥è¯¢æ—é»›ç‰çš„ç»“å±€
6. æŸ¥è¯¢è–›å®é’—çš„ç»“å±€
7. æ•´åˆå¯¹æ¯”ç»“æœ
```

**å®ç°æ–¹æ¡ˆ**ï¼š

**æ–¹æ¡ˆ Aï¼šPlan-and-Execute Agent**
```python
from langchain.agents import create_plan_and_execute_agent

agent = create_plan_and_execute_agent(
    llm=llm,
    tools=tools,
    verbose=True
)
```

**æ–¹æ¡ˆ Bï¼šè‡ªå®šä¹‰è§„åˆ’å™¨**
```python
class TaskPlanner:
    def plan(self, query: str) -> List[Task]:
        """å°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºå­ä»»åŠ¡"""
        
    def execute(self, tasks: List[Task]) -> str:
        """é€æ­¥æ‰§è¡Œä»»åŠ¡"""
```

**å®ç°éš¾åº¦**ï¼šâ­â­â­â­ï¼ˆè¾ƒéš¾ï¼‰
**é¢„è®¡æ—¶é—´**ï¼š2-3 å¤©

---

### é˜¶æ®µ 5ï¼šè‡ªæˆ‘åæ€å’Œä¼˜åŒ–ï¼ˆ2-3å¤©ï¼‰â­â­â­

**ç›®æ ‡**ï¼šè®© Agent èƒ½å¤Ÿè¯„ä¼°å’Œæ”¹è¿›è‡ªå·±çš„ç­”æ¡ˆ

**Reflexion æ¨¡å¼**ï¼š
```
1. ç”Ÿæˆåˆå§‹ç­”æ¡ˆ
2. è‡ªæˆ‘è¯„ä¼°ï¼šç­”æ¡ˆæ˜¯å¦å®Œæ•´ï¼Ÿæ˜¯å¦å‡†ç¡®ï¼Ÿ
3. å¦‚æœä¸æ»¡æ„ï¼Œé‡æ–°æ€è€ƒå’Œæ”¹è¿›
4. è¿”å›ä¼˜åŒ–åçš„ç­”æ¡ˆ
```

**å®ç°**ï¼š
```python
class ReflexionAgent:
    def answer_with_reflection(self, query: str) -> str:
        # ç¬¬ä¸€æ¬¡å°è¯•
        answer = self.generate_answer(query)
        
        # è‡ªæˆ‘è¯„ä¼°
        evaluation = self.evaluate_answer(query, answer)
        
        # å¦‚æœè¯„åˆ†ä½ï¼Œé‡æ–°ç”Ÿæˆ
        if evaluation['score'] < 0.7:
            answer = self.improve_answer(query, answer, evaluation)
        
        return answer
```

**å®ç°éš¾åº¦**ï¼šâ­â­â­â­ï¼ˆè¾ƒéš¾ï¼‰
**é¢„è®¡æ—¶é—´**ï¼š2-3 å¤©

---

### é˜¶æ®µ 6ï¼šå¤š Agent åä½œï¼ˆ3-5å¤©ï¼‰â­â­â­â­â­

**ç›®æ ‡**ï¼šå¤šä¸ªä¸“ä¸š Agent åä½œå®Œæˆä»»åŠ¡

**æ¶æ„**ï¼š
```
ä¸» Agentï¼ˆåè°ƒè€…ï¼‰
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â†“        â†“        â†“        â†“        â†“
æ£€ç´¢     åˆ†æ     åˆ›ä½œ     è¯„ä¼°     æ€»ç»“
Agent    Agent    Agent    Agent    Agent
```

**ç¤ºä¾‹**ï¼š
- **æ£€ç´¢ Agent**ï¼šä¸“é—¨è´Ÿè´£çŸ¥è¯†åº“æ£€ç´¢
- **åˆ†æ Agent**ï¼šä¸“é—¨è´Ÿè´£æ–‡æœ¬åˆ†æ
- **åˆ›ä½œ Agent**ï¼šä¸“é—¨è´Ÿè´£è¯—è¯åˆ›ä½œ
- **è¯„ä¼° Agent**ï¼šä¸“é—¨è´Ÿè´£ç­”æ¡ˆè¯„ä¼°

**å®ç°éš¾åº¦**ï¼šâ­â­â­â­â­ï¼ˆå›°éš¾ï¼‰
**é¢„è®¡æ—¶é—´**ï¼š3-5 å¤©

---

## ğŸ¯ æ¨èçš„å®æ–½é¡ºåº

### ç¬¬ä¸€å‘¨ï¼šåŸºç¡€èƒ½åŠ›
1. âœ… **å·¥å…·æ‰©å±•**ï¼ˆ2å¤©ï¼‰- æœ€é‡è¦
2. âœ… **è®°å¿†ç³»ç»Ÿ**ï¼ˆ1å¤©ï¼‰- ç”¨æˆ·ä½“éªŒæå‡

### ç¬¬äºŒå‘¨ï¼šæ¨ç†èƒ½åŠ›
3. âœ… **ReAct æ¨ç†**ï¼ˆ2å¤©ï¼‰- Agent æ ¸å¿ƒ
4. âœ… **æµ‹è¯•å’Œä¼˜åŒ–**ï¼ˆ1å¤©ï¼‰

### ç¬¬ä¸‰å‘¨ï¼šé«˜çº§èƒ½åŠ›
5. âœ… **ä»»åŠ¡è§„åˆ’**ï¼ˆ2-3å¤©ï¼‰- å¯é€‰
6. âœ… **è‡ªæˆ‘åæ€**ï¼ˆ2-3å¤©ï¼‰- å¯é€‰

### é•¿æœŸï¼š
7. âœ… **å¤š Agent åä½œ**ï¼ˆ3-5å¤©ï¼‰- é«˜çº§åŠŸèƒ½

---

## ğŸ’¡ å¿«é€Ÿå¼€å§‹ï¼šæœ€å°å¯è¡Œæ–¹æ¡ˆï¼ˆMVPï¼‰

å¦‚æœä½ æƒ³å¿«é€Ÿçœ‹åˆ°æ•ˆæœï¼Œæˆ‘æ¨èå…ˆåšè¿™ 3 ä¸ªï¼š

### 1. æ·»åŠ  3-5 ä¸ªå®ç”¨å·¥å…·ï¼ˆåŠå¤©ï¼‰
- è®¡ç®—å™¨
- æ—¶é—´å·¥å…·
- äººç‰©å…³ç³»æŸ¥è¯¢

### 2. æ·»åŠ ç®€å•è®°å¿†ï¼ˆ2å°æ—¶ï¼‰
- ConversationBufferWindowMemory
- ä¿ç•™æœ€è¿‘ 5 è½®å¯¹è¯

### 3. å¯ç”¨ ReAct æ¨¡å¼ï¼ˆ2å°æ—¶ï¼‰
- ä½¿ç”¨ LangChain çš„æ ‡å‡† ReAct Agent
- è®© Agent èƒ½å¤Ÿå¤šæ­¥æ¨ç†

**æ€»æ—¶é—´**ï¼š1 å¤©
**æ•ˆæœ**ï¼šç«‹å³å˜æˆä¸€ä¸ªçœŸæ­£çš„ Agentï¼

---

## ğŸ“ æŠ€æœ¯æ ˆ

**æ ¸å¿ƒæ¡†æ¶**ï¼š
- LangChainï¼ˆAgent æ¡†æ¶ï¼‰
- LangGraphï¼ˆé«˜çº§ Agent ç¼–æ’ï¼‰

**å¯é€‰å¢å¼º**ï¼š
- AutoGPTï¼ˆè‡ªä¸» Agentï¼‰
- BabyAGIï¼ˆä»»åŠ¡è§„åˆ’ï¼‰
- LangSmithï¼ˆAgent è°ƒè¯•å’Œç›‘æ§ï¼‰

---

## ğŸ¬ ä¸‹ä¸€æ­¥

ä½ æƒ³ä»å“ªä¸ªé˜¶æ®µå¼€å§‹ï¼Ÿ

æˆ‘çš„å»ºè®®ï¼š
1. **ä»Šå¤©**ï¼šé˜¶æ®µ 1ï¼ˆå·¥å…·æ‰©å±•ï¼‰+ é˜¶æ®µ 2ï¼ˆè®°å¿†ç³»ç»Ÿï¼‰
2. **æ˜å¤©**ï¼šé˜¶æ®µ 3ï¼ˆReAct æ¨ç†ï¼‰
3. **åç»­**ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©é«˜çº§åŠŸèƒ½

è¦ä¸è¦ç°åœ¨å°±å¼€å§‹å®ç°ï¼Ÿæˆ‘å¯ä»¥å¸®ä½ ä¸€æ­¥æ­¥å®Œæˆï¼ğŸ˜Š
