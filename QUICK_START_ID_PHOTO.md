# 🚀 证件照功能快速开始

## 📋 前置条件

- Python 3.8+
- 虚拟环境已激活（推荐）
- 项目已克隆到本地

## ⚡ 3 步开始使用

### 步骤 1: 安装依赖

```bash
# 使用安装脚本（推荐）
./install_id_photo_deps.sh

# 或手动安装
pip install Pillow opencv-python numpy rembg gradio
```

**注意**: 首次使用 rembg 会自动下载模型（约 176MB），请耐心等待。

### 步骤 2: 启动服务

```bash
# 启动 Gradio 界面
./start_gradio.sh

# 或直接运行
python app_gradio.py
```

### 步骤 3: 使用功能

1. 打开浏览器访问 `http://localhost:7860`
2. 在右侧上传照片
3. 在对话框输入：**"生成1寸白底证件照"**
4. 等待处理完成，下载照片

## 💬 常用命令

```
# 查看支持的规格
"支持哪些证件照规格？"

# 生成不同尺寸
"生成1寸白底证件照"
"生成2寸蓝底证件照"
"生成护照照片"

# 生成不同背景
"生成1寸红底证件照"
"生成2寸浅蓝底证件照"
```

## 📸 支持的规格速查

### 常用尺寸
- **1寸** - 简历、学生证
- **2寸** - 毕业证、档案
- **护照** - 护照申请
- **身份证** - 身份证

### 背景颜色
- **白色** - 最常用
- **蓝色** - 签证、护照
- **红色** - 部分证件
- **浅蓝** - 柔和背景

## 🧪 测试功能

```bash
# 运行测试脚本
python test_id_photo.py

# 使用真实照片测试
# 1. 将照片命名为 test_photo.jpg
# 2. 放在项目根目录
# 3. 运行测试脚本
```

## 📁 文件位置

```
生成的照片: app/static/photos/
上传的照片: app/static/uploads/
```

## ❓ 遇到问题？

### 依赖安装失败
```bash
# 尝试单独安装
pip install Pillow
pip install opencv-python
pip install numpy
pip install rembg
```

### 人脸检测失败
- 确保照片中人脸清晰
- 使用光线充足的照片
- 人脸正对镜头

### 背景移除效果不好
- 使用纯色背景拍照
- 确保人物与背景有对比
- 光线均匀

## 📚 更多文档

- **详细文档**: [docs/ID_PHOTO_FEATURE.md](docs/ID_PHOTO_FEATURE.md)
- **功能说明**: [证件照生成功能说明.md](证件照生成功能说明.md)
- **开发总结**: [证件照功能开发总结.md](证件照功能开发总结.md)

## 🎯 示例对话

```
用户: [上传照片] 生成1寸白底证件照

AI: ✅ 已成功生成 1寸 白色底证件照！

📏 尺寸信息：
- 规格：1寸
- 像素：295 x 413 px
- 背景：白色

📥 下载链接：
/static/photos/id_photo_1寸_白色_20240130_153045.jpg
```

## 💡 使用技巧

1. **拍照建议**
   - 光线充足
   - 背景简洁
   - 人脸居中
   - 表情自然

2. **批量生成**
   - 上传一次照片
   - 可以多次生成不同规格
   - 无需重复上传

3. **下载照片**
   - 点击链接直接下载
   - 或在 `app/static/photos/` 目录查找

## 🎉 开始使用

现在你已经准备好了！上传照片，开始生成你的证件照吧！

---

**分支**: `feature/id-photo-generator`  
**版本**: 1.0.0  
**更新**: 2024-01-30
